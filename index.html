<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Birthday Card</title>
<style>
  :root{
    --bg1:#f7efe6;   /* 米色 */
    --bg2:#f9e3ea;   /* 浅粉 */
    --card: rgba(255,255,255,.62);
    --card2: rgba(255,255,255,.72);
    --border: rgba(255,255,255,.60);
    --text:#3f3f3f;
    --muted:#6b6b6b;
    --shadow: 0 18px 45px rgba(0,0,0,.10);
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,"PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif;
    color:var(--text);
    background:
      radial-gradient(1200px 800px at 30% 10%, #ffffff 0%, transparent 60%),
      linear-gradient(180deg, var(--bg1), var(--bg2));
    overflow:hidden;
  }

  /* ====== 页面容器 ====== */
  .viewport{
    position:relative;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:22px 16px;
  }

  .card{
    width:min(520px, 92vw);
    border-radius:24px;
    background: var(--card);
    border:1px solid var(--border);
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow);
    overflow:hidden;
    position:relative;
  }

  /* 两页切换：用 transform 做滑动切屏 */
  .pages{
    width:200%;
    display:flex;
    transition: transform 700ms cubic-bezier(.2,.9,.2,1);
    will-change: transform;
  }
  .page{
    width:50%;
    padding:18px 18px 16px;
    min-height: 640px; /* 保证手机上也有空间 */
    display:flex;
    flex-direction:column;
    position:relative;
  }

  /* ====== Page 1: 开场 ====== */
  .hero{
    flex:1;
    position:relative;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:flex-start;
    padding-top:10px;
  }

  .balloonRows{
    width:100%;
    display:flex;
    flex-direction:column;
    gap:10px;
    align-items:center;
    justify-content:center;
    margin-top:6px;
    opacity:0;
    transform: translateY(-8px);
    animation: fadeDown 950ms ease forwards;
    animation-delay: 220ms;
  }
  @keyframes fadeDown{
    to{opacity:1; transform: translateY(0);}
  }

  .balloonRow{
    display:flex;
    gap:10px;
    align-items:center;
    justify-content:center;
    flex-wrap:nowrap;
  }

  /* 字母气球（SVG）大小随屏幕略缩放 */
  .letter{
    width: clamp(44px, 7.6vw, 56px);
    height: auto;
    filter: drop-shadow(0 12px 16px rgba(0,0,0,.10));
    animation: floatY 9.2s ease-in-out infinite;
    opacity:.98;
  }
  .letter:nth-child(1){animation-delay:0s}
  .letter:nth-child(2){animation-delay:1.0s}
  .letter:nth-child(3){animation-delay:2.0s}
  .letter:nth-child(4){animation-delay:3.0s}
  .letter:nth-child(5){animation-delay:4.0s}
  .letter:nth-child(6){animation-delay:0.7s}
  .letter:nth-child(7){animation-delay:1.7s}
  .letter:nth-child(8){animation-delay:2.7s}
  .letter:nth-child(9){animation-delay:3.7s}
  .letter:nth-child(10){animation-delay:4.7s}

  @keyframes floatY{
    0%{ transform: translateY(0); }
    50%{ transform: translateY(-22px); }
    100%{ transform: translateY(0); }
  }

  /* 蛋糕在中间靠下 */
  .cakeArea{
    flex:1;
    width:100%;
    display:flex;
    align-items:flex-end;
    justify-content:center;
    padding-bottom:18px;
    position:relative;
  }
  .cakeSketch{
    width:min(260px, 72vw);
    opacity:0;
    transform: translateY(10px) scale(.98);
    animation: cakeIn 900ms ease forwards;
    animation-delay: 650ms;
  }
  @keyframes cakeIn{
    to{opacity:1; transform: translateY(0) scale(1);}
  }

  /* Tap 按钮：在所有元素之后出现 */
  .ctaWrap{
    width:100%;
    display:flex;
    justify-content:center;
    padding: 0 0 8px;
  }
  .cta{
    appearance:none;
    border:1px solid rgba(255,255,255,.7);
    background: rgba(255,255,255,.60);
    border-radius:999px;
    padding:10px 16px;
    font-size:13px;
    letter-spacing:.2px;
    color: rgba(63,63,63,.82);
    cursor:pointer;
    opacity:0;
    transform: translateY(6px);
    animation: ctaIn 700ms ease forwards;
    animation-delay: 1650ms;
  }
  .cta:active{transform: translateY(6px) scale(.98);}
  @keyframes ctaIn{
    to{opacity:1; transform: translateY(0);}
  }

  /* ====== Page 2: 内容 ====== */
  .content{
    flex:1;
    display:flex;
    gap:16px;
    align-items:flex-start;
    justify-content:center;
    padding-top:10px;
  }

  /* 手机上改为上下布局 */
  @media (max-width: 520px){
    .page{ min-height: 640px; }
    .content{ flex-direction:column; align-items:center; }
  }

  /* 照片：更小，占地更少，给文字让位 */
  .photo{
    width: min(180px, 46vw);
    border-radius:18px;
    overflow:hidden;
    border:1px solid rgba(255,255,255,.80);
    box-shadow: 0 14px 28px rgba(0,0,0,.08);
    background: rgba(255,255,255,.50);
    flex: 0 0 auto;
  }
  .photo img{
    width:100%;
    height:auto;
    display:block;
  }

  .textBox{
    flex:1 1 auto;
    width:100%;
    border-radius:18px;
    background: var(--card2);
    border:1px solid var(--border);
    padding:14px 14px 12px;
    box-shadow: 0 10px 24px rgba(0,0,0,.06);
    min-height: 240px;
  }

  .en{
    font-size:16px;
    line-height:1.7;
    color: var(--text);
    white-space:pre-wrap;
    min-height: 3.4em;
  }
  .zh{
    margin-top:10px;
    font-size:15px;
    line-height:1.75;
    color: var(--muted);
    white-space:pre-wrap;
    min-height: 4.8em;
  }
  .sig{
    margin-top:12px;
    font-size:13px;
    color: rgba(63,63,63,.78);
  }
  .sig strong{color: var(--text);}

  /* 打字效果光标（可选，保持克制） */
  .cursor::after{
    content:"";
    display:inline-block;
    width:8px;
    height:1.05em;
    margin-left:4px;
    background: rgba(63,63,63,.35);
    transform: translateY(2px);
    animation: blink 1s step-end infinite;
  }
  @keyframes blink{
    50%{opacity:0;}
  }

  /* 进入第二页后再触发内容淡入 */
  .fadeIn2{
    opacity:0;
    transform: translateY(8px);
    transition: opacity 700ms ease, transform 700ms ease;
  }
  .show2 .fadeIn2{
    opacity:1;
    transform: translateY(0);
  }

  /* 小分隔线 */
  .rule{
    width:72px;
    height:2px;
    border-radius:999px;
    margin: 8px auto 0;
    background: linear-gradient(90deg, transparent, rgba(232,169,186,.92), transparent);
  }
</style>
</head>

<body>
  <div class="viewport">
    <div class="card" id="card">
      <div class="pages" id="pages">

        <!-- ===================== Page 1 ===================== -->
        <section class="page" aria-label="Intro">
          <div class="hero">

            <!-- 两行字母气球：HAPPY / BIRTHDAY -->
            <div class="balloonRows" aria-hidden="true">
              <div class="balloonRow" id="rowHappy"></div>
              <div class="balloonRow" id="rowBirthday"></div>
              <div class="rule"></div>
            </div>

            <!-- 蛋糕：中间靠下，sketch 风 -->
            <div class="cakeArea" aria-hidden="true">
              <!-- 简洁素描感蛋糕（SVG，不依赖外链） -->
              <svg class="cakeSketch" viewBox="0 0 520 360" role="img" aria-label="Cake illustration">
                <defs>
                  <filter id="paper" x="-20%" y="-20%" width="140%" height="140%">
                    <feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch" result="noise"/>
                    <feColorMatrix type="matrix" values="
                      1 0 0 0 0
                      0 1 0 0 0
                      0 0 1 0 0
                      0 0 0 0.18 0" in="noise" result="noiseAlpha"/>
                    <feComposite operator="in" in="noiseAlpha" in2="SourceGraphic" result="grain"/>
                    <feBlend mode="multiply" in="SourceGraphic" in2="grain"/>
                  </filter>

                  <linearGradient id="cream" x1="0" x2="0" y1="0" y2="1">
                    <stop offset="0" stop-color="#ffffff" stop-opacity="0.95"/>
                    <stop offset="1" stop-color="#f3d6df" stop-opacity="0.95"/>
                  </linearGradient>
                </defs>

                <!-- plate -->
                <path d="M120 300 C170 330, 350 330, 400 300 C360 340, 160 340, 120 300 Z"
                      fill="rgba(255,255,255,.65)" stroke="rgba(63,63,63,.25)" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" filter="url(#paper)"/>

                <!-- cake body -->
                <path d="M165 150 C160 210, 160 260, 165 290 C170 312, 350 312, 355 290 C360 260, 360 210, 355 150
                         C350 120, 170 120, 165 150 Z"
                      fill="url(#cream)" stroke="rgba(63,63,63,.28)" stroke-width="5" stroke-linejoin="round" filter="url(#paper)"/>

                <!-- top layer -->
                <path d="M190 115 C200 85, 320 85, 330 115 C335 130, 185 130, 190 115 Z"
                      fill="rgba(255,255,255,.88)" stroke="rgba(63,63,63,.25)" stroke-width="5" stroke-linejoin="round" filter="url(#paper)"/>

                <!-- frosting waves -->
                <path d="M190 180 C210 200, 230 165, 250 185 C270 205, 290 165, 310 185 C330 205, 345 175, 355 188"
                      fill="none" stroke="rgba(232,169,186,.95)" stroke-width="10" stroke-linecap="round" filter="url(#paper)"/>

                <!-- candle -->
                <path d="M255 55 L265 55 L270 110 L250 110 Z"
                      fill="rgba(180,120,140,.55)" stroke="rgba(63,63,63,.18)" stroke-width="4" filter="url(#paper)"/>
                <path d="M260 28 C275 42, 250 42, 260 62 C288 48, 282 28, 260 28 Z"
                      fill="rgba(255,170,190,.92)" stroke="rgba(63,63,63,.10)" stroke-width="3" filter="url(#paper)"/>
              </svg>
            </div>

          </div>

          <!-- 点击按钮：只在第一页出现 -->
          <div class="ctaWrap">
            <button class="cta" id="ctaBtn" type="button">Tap to continue</button>
          </div>
        </section>

        <!-- ===================== Page 2 ===================== -->
        <section class="page" aria-label="Message">
          <div class="content fadeIn2">
            <div class="photo">
              <!-- 你的照片文件名：把照片上传到仓库根目录，并命名为 yvonne.jpg -->
              <img src="yvonne.jpg" alt="Yvonne" />
            </div>

            <div class="textBox">
              <div class="en cursor" id="enOut"></div>
              <div class="zh" id="zhOut"></div>

              <div class="sig" id="sigOut" style="opacity:0;">
                With warm wishes,<br><strong>from Isabel</strong>
              </div>
            </div>
          </div>
        </section>

      </div>
    </div>
  </div>

<script>
  /* =========================================================
     你只需要改这里的文字（不需要动别的）
     ========================================================= */
  const EN_TEXT = "Happy Birthday, Yvonne.\nWishing you a year filled with joy, clarity, and continued success.";
  const ZH_TEXT = "祝你生日快乐，\n愿新的一年里，\n充满喜悦、从容与持续的收获。";
  /* ========================================================= */

  // 生成字母气球：两行 HAPPY / BIRTHDAY
  const HAPPY = "HAPPY";
  const BIRTHDAY = "BIRTHDAY";

  function letterBalloonSVG(letter, tint){
    // tint: "pink" | "silver"
    const isSilver = tint === "silver";

    const gradId = "g_" + Math.random().toString(16).slice(2);
    const hiId   = "h_" + Math.random().toString(16).slice(2);
    const softId = "s_" + Math.random().toString(16).slice(2);

    const stops = isSilver ? `
      <radialGradient id="${gradId}" cx="35%" cy="28%" r="75%">
        <stop offset="0%" stop-color="#ffffff" stop-opacity="0.96"/>
        <stop offset="25%" stop-color="#f4f4f8" stop-opacity="0.88"/>
        <stop offset="60%" stop-color="#d6d7e2" stop-opacity="0.70"/>
        <stop offset="100%" stop-color="#9aa0b2" stop-opacity="0.52"/>
      </radialGradient>
    ` : `
      <radialGradient id="${gradId}" cx="35%" cy="28%" r="70%">
        <stop offset="0%" stop-color="#ffffff" stop-opacity="0.96"/>
        <stop offset="25%" stop-color="#ffe0ea" stop-opacity="0.84"/>
        <stop offset="60%" stop-color="#f0b1c6" stop-opacity="0.70"/>
        <stop offset="100%" stop-color="#b66b82" stop-opacity="0.52"/>
      </radialGradient>
    `;

    const tailFill = isSilver ? "rgba(154,160,178,.55)" : "rgba(182,107,130,.55)";
    const tailStroke = isSilver ? "rgba(154,160,178,.55)" : "rgba(182,107,130,.55)";

    return `
      <svg class="letter" viewBox="0 0 220 320" aria-hidden="true">
        <defs>
          ${stops}
          <radialGradient id="${hiId}" cx="30%" cy="22%" r="36%">
            <stop offset="0%" stop-color="#ffffff" stop-opacity="0.95"/>
            <stop offset="100%" stop-color="#ffffff" stop-opacity="0"/>
          </radialGradient>
          <filter id="${softId}" x="-20%" y="-20%" width="140%" height="140%">
            <feGaussianBlur stdDeviation="1.25"/>
          </filter>
        </defs>

        <path d="M110,18 C170,18 208,64 208,126 C208,214 156,268 110,268 C64,268 12,214 12,126 C12,64 50,18 110,18 Z"
              fill="url(#${gradId})"/>

        <path d="M82,60 C106,40 134,40 154,60 C126,72 110,94 100,114 C92,100 84,84 82,60 Z"
              fill="url(#${hiId})" filter="url(#${softId})"/>

        <!-- 字母 -->
        <text x="110" y="165" text-anchor="middle"
              font-family="-apple-system,BlinkMacSystemFont,'Segoe UI','Helvetica Neue',Arial"
              font-size="92" font-weight="800"
              fill="rgba(255,255,255,.78)"
              style="letter-spacing:2px">
          ${letter}
        </text>

        <!-- 结与绳 -->
        <path d="M110,268 C118,274 122,286 110,296 C98,286 102,274 110,268 Z" fill="${tailFill}"/>
        <path d="M110,296 C112,308 116,320 120,332" stroke="${tailStroke}" stroke-width="3" fill="none"/>
      </svg>
    `;
  }

  function renderRow(containerId, word){
    const el = document.getElementById(containerId);
    const letters = word.split("");
    el.innerHTML = letters.map((ch, idx) => {
      // 交错粉银，贴近 Canva 的感觉
      const tint = (idx % 2 === 0) ? "pink" : "silver";
      return letterBalloonSVG(ch, tint);
    }).join("");
  }

  renderRow("rowHappy", HAPPY);
  renderRow("rowBirthday", BIRTHDAY);

  // ====== 切到第二页 + 打字动画 ======
  const pages = document.getElementById("pages");
  const card = document.getElementById("card");
  const ctaBtn = document.getElementById("ctaBtn");

  const enOut = document.getElementById("enOut");
  const zhOut = document.getElementById("zhOut");
  const sigOut = document.getElementById("sigOut");

  let started = false;

  function typeInto(el, text, speed){
    return new Promise((resolve)=>{
      el.textContent = "";
      let i = 0;
      const tick = () => {
        el.textContent += text[i] === "\n" ? "\n" : text[i];
        i++;
        if (i < text.length) setTimeout(tick, speed);
        else resolve();
      };
      tick();
    });
  }

  ctaBtn.addEventListener("click", async () => {
    if (started) return;
    started = true;

    // 切到第二页（Tap 按钮不会再出现，因为它只在 Page 1）
    pages.style.transform = "translateX(-50%)";

    // 让第二页内容淡入
    card.classList.add("show2");

    // 打字：给你预留更多文字空间，所以速度克制，且英文先
    await typeInto(enOut, EN_TEXT, 26);
    await new Promise(r => setTimeout(r, 320));
    await typeInto(zhOut, ZH_TEXT, 30);

    // 署名淡入（不逐字）
    sigOut.style.transition = "opacity 900ms ease";
    sigOut.style.opacity = 1;

    // 打完字后去掉光标（可选）
    enOut.classList.remove("cursor");
  });
</script>
</body>
</html>
